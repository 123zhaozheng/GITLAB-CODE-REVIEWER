# GitLab 代码审查服务配置示例
# 复制此文件为 .env 并填入正确的值

# =============================================================================
# 必需配置 - 必须设置这些值才能启动服务
# =============================================================================

# OpenAI API配置 (必需)
OPENAI_API_KEY=your_openai_api_key_here

# =============================================================================
# 可选配置 - 可以使用默认值
# =============================================================================

# 服务配置
SERVICE_NAME=gitlab-code-reviewer
SERVICE_VERSION=1.0.0
DEBUG=false
LOG_LEVEL=INFO

# AI模型配置
OPENAI_API_BASE=
OPENAI_API_URL=
DEFAULT_AI_MODEL=gpt-4
FALLBACK_AI_MODEL=gpt-3.5-turbo
MAX_TOKENS_PER_REQUEST=32000

# AI服务提供商配置
AI_PROVIDER=openai
CUSTOM_LLM_PROVIDER=

# 数据库配置
DATABASE_URL=sqlite:///./app.db
REDIS_URL=

# 性能配置
MAX_CONCURRENT_REVIEWS=10
REVIEW_TIMEOUT_SECONDS=300
TOKEN_CACHE_TTL=3600

# GitLab配置
DEFAULT_GITLAB_URL=https://gitlab.com
MAX_FILES_PER_REVIEW=50

# 安全配置
API_KEY_HEADER=X-API-Key
RATE_LIMIT_PER_MINUTE=60

# 允许的主机列表 - 支持多种格式:
# 1. 逗号分隔: localhost,127.0.0.1,example.com
# 2. JSON数组: ["localhost", "127.0.0.1", "example.com"]  
# 3. 单个值: localhost
# 4. 空值或不设置: 默认为 ["*"] (允许所有主机)
ALLOWED_HOSTS=*

# 成本优化配置
ENABLE_COST_OPTIMIZATION=true
MAX_COST_PER_REVIEW=0.50
SMART_FILTERING=true

# =============================================================================
# 使用说明
# =============================================================================
# 
# 1. 最小化配置 - 只需设置 OPENAI_API_KEY:
#    OPENAI_API_KEY=sk-your-key-here
#
# 2. 生产环境配置 - 建议设置:
#    OPENAI_API_KEY=sk-your-key-here
#    ALLOWED_HOSTS=your-domain.com,api.your-domain.com
#    DEBUG=false
#    LOG_LEVEL=WARNING
#
# 3. 开发环境配置:
#    OPENAI_API_KEY=sk-your-key-here
#    ALLOWED_HOSTS=localhost,127.0.0.1
#    DEBUG=true
#    LOG_LEVEL=DEBUG
#
